(window.webpackJsonpBuilds=window.webpackJsonpBuilds||[]).push([[0],[,,,,,,,,,,,function(t,e,a){t.exports=a(22)},,,,,function(t,e,a){},,function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),o=a(10),s=a.n(o),i=(a(16),a(7)),l=a.n(i),c=a(8),u=a(2),d=a(3),h=a(6),m=a(4),p=a(1),b=a(5);a(18);var v=function(t){var e;return"lots"===t.message&&(e='User "'.concat(window.location.pathname.substr(1),'" has no lots!')),r.a.createElement("div",{id:"home"},r.a.createElement("div",{id:"message"},r.a.createElement("h1",null,"Builds"),r.a.createElement("p",{id:"alert"},e),r.a.createElement("p",null,"Enter a username in the address bar to visit a profile:"),r.a.createElement("a",{href:"https://builds-gallery.herokuapp.com/tori"},r.a.createElement("pre",null,"https://builds-gallery.herokuapp.com/tori"))))},f=(a(19),function(t){function e(t){var a;return Object(u.a)(this,e),(a=Object(h.a)(this,Object(m.a)(e).call(this,t))).state={click:!1},a.handleClick=a.handleClick.bind(Object(p.a)(a)),a}return Object(b.a)(e,t),Object(d.a)(e,[{key:"handleClick",value:function(){this.props.openLot(this.props.id)}},{key:"render",value:function(){var t=this.props,e=t.images,a=t.lot_type,n=t.name,o=t.bedrooms,s=t.bathrooms;return r.a.createElement("div",{className:"lot-card"},r.a.createElement("img",{src:e,alt:n}),r.a.createElement("h5",{onClick:this.handleClick},n),r.a.createElement("p",null,a),r.a.createElement("p",null,o," beds, ",s," baths"))}}]),e}(n.Component)),k=(a(20),function(t){function e(t){var a;return Object(u.a)(this,e),(a=Object(h.a)(this,Object(m.a)(e).call(this,t))).handleClick=a.handleClick.bind(Object(p.a)(a)),a}return Object(b.a)(e,t),Object(d.a)(e,[{key:"handleClick",value:function(){this.setState({redirect:!0})}},{key:"render",value:function(){if(console.log(this.props),void 0===this.props.id)return"Loading Lot!";var t=this.props,e=t.name,a=t.description,n=t.gallery,o=t.lot_type,s=t.bedrooms,i=t.bathrooms,l=t.sims,c=t.images,u=t.clearLot;return r.a.createElement("div",{id:"lot-view-container"},r.a.createElement("div",{id:"top"},r.a.createElement("span",{id:"back",onClick:function(t){return u()}},window.location.pathname.substr(1),"'s Builds")),r.a.createElement("div",{id:"lot-view"},r.a.createElement("img",{src:c,alt:"Sims Build"}),r.a.createElement("h1",null,e),r.a.createElement("p",{id:"lot-type"},o," Lot"),"Residential"===o&&r.a.createElement("p",{id:"lot-numbers"},s," bedrooms / ",i," bathrooms / sleeps ",l," sims"),"Rental"===o&&r.a.createElement("p",{id:"lot-numbers"},s," bedrooms / ",i," bathrooms / sleeps ",l," sims"),r.a.createElement("p",{id:"lot-description"},a),r.a.createElement("p",{id:"lot-link"},r.a.createElement("a",{href:n,target:"_blank"},"View on the Sims 4 Gallery"))))}}]),e}(n.Component)),E=(a(21),function(t){function e(t){var a;return Object(u.a)(this,e),(a=Object(h.a)(this,Object(m.a)(e).call(this,t))).state={user:void 0,lots:void 0,lot:void 0},a.getProfileData=a.getProfileData.bind(Object(p.a)(a)),a.getLotData=a.getLotData.bind(Object(p.a)(a)),a.openLot=a.openLot.bind(Object(p.a)(a)),a.clearLot=a.clearLot.bind(Object(p.a)(a)),a.clearUser=a.clearUser.bind(Object(p.a)(a)),a}return Object(b.a)(e,t),Object(d.a)(e,[{key:"componentDidMount",value:function(){this.getRoute()}},{key:"componentDidUpdate",value:function(){var t=this.state,e=t.user,a=t.lots,n=t.lot;e&&!a&&this.getProfileData(),n&&"number"==typeof n&&this.getLotData()}},{key:"getRoute",value:function(){var t=window.location.pathname;"/"===t[0]&&this.setState({user:t.substr(1)})}},{key:"getProfileData",value:function(){var t=Object(c.a)(l.a.mark(function t(){var e,a,n;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.state.user,t.next=3,fetch("api/lots/user/".concat(e),{method:"GET"});case 3:return a=t.sent,t.next=6,a.status;case 6:if(t.t0=t.sent,200!==t.t0){t.next=19;break}return t.next=10,a.json();case 10:return n=t.sent,t.t1=this,t.next=14,n;case 14:t.t2=t.sent,t.t3={lots:t.t2},t.t1.setState.call(t.t1,t.t3),t.next=24;break;case 19:return t.next=21,a.status;case 21:if(t.t4=t.sent,404!==t.t4){t.next=24;break}this.setState({lots:404});case 24:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getLotData",value:function(){var t=Object(c.a)(l.a.mark(function t(){var e,a,n;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.state.lot,t.next=3,fetch("api/lots/".concat(e),{method:"GET"});case 3:return a=t.sent,t.next=6,a.status;case 6:if(t.t0=t.sent,200!==t.t0){t.next=19;break}return t.next=10,a.json();case 10:return n=t.sent,t.t1=this,t.next=14,n;case 14:t.t2=t.sent,t.t3={lot:t.t2},t.t1.setState.call(t.t1,t.t3),t.next=20;break;case 19:this.setState({lots:404});case 20:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"mapLots",value:function(){var t=this,e=this.state.lots;return e?e.map(function(e){return r.a.createElement(f,Object.assign({},e,{openLot:t.openLot}))}):"Loading Lots!"}},{key:"openLot",value:function(t){this.setState({lot:t})}},{key:"clearLot",value:function(){this.setState({lot:void 0})}},{key:"clearUser",value:function(){this.setState({user:void 0}),this.setState({lots:void 0}),this.setState({lot:void 0})}},{key:"render",value:function(){var t=this.state,e=t.lots,a=t.lot,n=t.user;return a?r.a.createElement(k,Object.assign({},a,{clearLot:this.clearLot})):e?404===e?r.a.createElement(v,{message:"lots"}):r.a.createElement("div",{id:"lot-cards-view"},r.a.createElement("h1",{onClick:this.clearUser},"Builds"),r.a.createElement("h2",null,"from ",n),r.a.createElement("div",{id:"lot-cards"},this.mapLots())):r.a.createElement(v,null)}}]),e}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}],[[11,1,2]]]);
//# sourceMappingURL=main.7ba7fc47.chunk.js.map